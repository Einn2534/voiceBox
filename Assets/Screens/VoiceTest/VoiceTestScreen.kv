# 
# main
#   generated by nullptr on 2025/10/10
# 

#:import dp kivy.metrics.dp

<VoiceTestScreen>:
    BoxLayout:
        orientation: 'vertical'
        padding: dp(16)
        spacing: dp(12)

        Label:
            id: recordStatus
            text: "待機中"
            markup: True
            size_hint_y: None
            height: self.texture_size[1]
            text_size: self.width, None
            halign: 'left'
            valign: 'middle'
            font_name: app.font_name

        ScrollView:
            size_hint_y: 0.55
            do_scroll_x: False
            Label:
                id: apiResponse
                text: "ここに音声の書き起こしが表示されます"
                text_size: self.width, None
                size_hint_y: None
                height: self.texture_size[1]
                halign: 'left'
                valign: 'top'
                font_name: app.font_name

        TextInput:
            id: apiRequest
            hint_text: 'メモ (任意)'
            multiline: True
            size_hint_y: None
            height: dp(100)
            font_name: app.font_name

        BoxLayout:
            size_hint_y: None
            height: dp(48)
            spacing: dp(12)
            Button:
                text: "録音開始"
                on_press: root.start_recording()
                font_name: app.font_name
            Button:
                text: "停止して文字起こし"
                on_press: root.stop_and_transcribe()
                font_name: app.font_name
            Button:
                text: "取消"
                on_press: root.cancel_recording()
                font_name: app.font_name

        BoxLayout:
            size_hint_y: None
            height: dp(48)
            spacing: dp(12)
            Button:
                text: "テキストをコピー"
                on_press: root.copy_to_clipboard()
                font_name: app.font_name
            Button:
                text: "クリア"
                on_press: root.clear_transcript()
                font_name: app.font_name
            Button:
                text: "Top"
                on_press: app.root.current = 'home'
                font_name: app.font_name
